FROM node:20-alpine

WORKDIR /app

COPY package.json package-lock.json* ./
RUN npm install \
    && npm cache clean --force

COPY . .

# –î–æ–±–∞–≤–∏–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
RUN echo "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏:" && ls -la

EXPOSE 4200

ENV NODE_ENV=production

CMD ["sh", "-c", "echo 'üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞...' && node server.js"]